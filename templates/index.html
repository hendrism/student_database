{% extends "base.html" %}
{% block content %}
  <h2>Students</h2>
  
  <!-- Grade Filter Form -->
  <form method="GET" action="{{ url_for('routes.index') }}">
    <div class="form-group">
      <label for="grade">Filter by Grade:</label>
      <select name="grade" id="grade" class="form-control">
         <option value="">All Grades</option>
         <option value="Grade 9" {% if grade_filter == 'Grade 9' %}selected{% endif %}>Grade 9</option>
         <option value="Grade 10" {% if grade_filter == 'Grade 10' %}selected{% endif %}>Grade 10</option>
         <option value="Grade 11" {% if grade_filter == 'Grade 11' %}selected{% endif %}>Grade 11</option>
         <option value="Grade 12" {% if grade_filter == 'Grade 12' %}selected{% endif %}>Grade 12</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Filter</button>
  </form>
  
  <!-- Existing student table -->
  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Grade</th>
        <th>Preferred Name</th>
        <th>Actions</th>
      </tr>
    </thead>
    {% include "_student_table.html" %}
  </table>
  <a href="{{ url_for('routes.add_student') }}" class="btn btn-success">Add New Student</a>
{% endblock %}